"use strict";(self.webpackChunk_exness_public_website=self.webpackChunk_exness_public_website||[]).push([[5263],{35336:function(e,a,t){t.r(a),t.d(a,{default:function(){return S}});var i=t(31133),l=t(97995),r=t(67242),n=t(2784),s=t(1332),o=t(39051),d=t(91972),c=t(13546),u=t(48183),v=t(99138),m=t(61527),g=t(50046),p=t(7904),h=t(50922),x=t(63207),j=t(58893),f=e=>{var a=e.label,t=e.name,i=e.value,l=e.variant,r=e.color,n=e.onClick;return(0,j.jsx)(x.Z,{label:a,variant:l,color:r,size:"medium",onClick:()=>{n({target:{name:t,value:i}})}})},b=(0,u.D2)((e=>{var a=e.classes,t=e.data,i=e.onChange,l=e.formatItem,r=void 0===l?e=>e.value:l,o=e.resetLabel,d=e.className,c=e.color,u=(0,s.lO)().i18n,v=e=>{var a=e.target;i(a)};return(0,j.jsx)("div",{className:(0,h.Z)(a.root,d),"data-testid":"chip-filter",children:(0,j.jsx)("div",{className:a.grid,children:t.map((e=>{var t=e.data,i=e.name,l=e.value;return(0,j.jsxs)(n.Fragment,{children:[(0,j.jsx)("div",{className:a.item,children:(0,j.jsx)(f,{label:o||u.t("ui.filters.all",{_:"All"}),name:i,value:"",variant:""===l?void 0:"outlined",color:c,onClick:v})}),t.filter((e=>e.value.length)).map((e=>{var t=e.key;return(0,j.jsx)("div",{className:a.item,children:(0,j.jsx)(f,{label:r({name:i,value:t}),name:i,value:t,variant:l===t?void 0:"outlined",color:c,onClick:v})},t)}))]},i)}))})})}),(e=>({root:{},grid:{display:"flex",flexWrap:"wrap",margin:e.spacing(0,-1,-1,0)},item:{padding:e.spacing(0,1,1,0)}}))),y=t(70997),C=t(57190),k=e=>{var a=e.params,t=e.children,i=(0,s.lO)().locale,l=(0,o.Hq)(),r=(0,d.rw)({country:l}),c=r[0],u=r[1].data;(0,n.useEffect)((()=>{c({variables:a})}),[c,a]);var v=(0,n.useMemo)((()=>(0,C.X6)(null==u?void 0:u.pieceOfNewsCollection.items,i)),[i,u]);return(0,j.jsx)(j.Fragment,{children:t(v)})},w=e=>{var a=e.params,t=e.children,i=(0,s.lO)().locale,l=(0,c.QH)(),r=l[0],o=l[1].data;(0,n.useEffect)((()=>{r({variables:a})}),[r,a]);var d=(0,n.useMemo)((()=>(0,C.fY)(null==o?void 0:o.piecesOfNews.data,i)),[i,o]);return(0,j.jsx)(j.Fragment,{children:t(d)})},O=e=>{var a=e.params,t=a.ids,i=a.skip,l=a.limit,r=a.locale,n=(0,s.$W)().isStrapi?w:k,o={ids:t.slice(i,i+l),skip:0,limit:l,locale:r};return(0,j.jsx)(n,{params:o,children:e=>(0,j.jsx)(y.ZJ,{drawSkeletons:!0,count:o.limit,items:e,"data-testid":"blog-card"})})},N=(0,u.ZL)()((e=>({searchCategories:{marginBottom:e.spacing(4)},paginationRoot:{marginTop:e.spacing(8),borderTop:"1px solid "+e.palette.background.grey,paddingTop:e.spacing(6)},paginationList:{justifyContent:"center"}}))),Z=e=>{var a,t=e.data,i=e.loading,l=e["data-testid"],r=N().classes,o=(0,g.Z)(),d=(0,s.lO)().node_locale,c=n.useRef(null),u=(0,s.bA)(),h=u[0],x=u[1],f=(0,s.R6)({filterKeys:["category"],data:t,values:null==h?void 0:h.filters,valueAccessors:{category:e=>e.category}}),y=f[0],C=y.values,k=y.data,w=f[1].setFilter,Z=(0,s.h0)({limit:12,page:null!==(a=null==h?void 0:h.page)&&void 0!==a?a:1,total:k.length}),_=Z.count,T=Z.page,F=Z.limit,R=Z.skip,S=Z.setPage,E=(0,n.useCallback)(((e,a)=>{var t,i;S(a),x(Object.assign({},h,{page:a})),window.scrollTo({top:(null!==(t=null===(i=c.current)||void 0===i?void 0:i.getBoundingClientRect().top)&&void 0!==t?t:0)+document.documentElement.scrollTop-Number(o.mixins.toolbar.minHeight)-20,behavior:"smooth"})}),[h,x,S,o.mixins.toolbar.minHeight]);return(0,j.jsxs)(p.Z,{"data-testid":l,children:[(0,j.jsx)("div",{ref:c,className:r.searchCategories,children:i?(0,j.jsx)(m.Z,{height:35,width:100}):(0,j.jsx)(b,{data:C,onChange:e=>{w(e),S(1),x({page:1,filters:Object.assign({},null==h?void 0:h.filters,{[e.name]:e.value})})}})}),(0,j.jsx)(O,{params:{locale:d,limit:F,skip:R,ids:k.map((e=>e.id))}}),(0,j.jsx)(v.Z,{classes:{root:r.paginationRoot,ul:r.paginationList},count:_,page:T,shape:"rounded",variant:"outlined",onChange:E})]})},_=e=>{var a=e.locale,t=e.country,i=e.children,l=(0,d.jX)({country:t,locale:a}),r=l.data,s=l.loading,o=(0,n.useMemo)((()=>{var e,a;return null!==(e=null==r||null===(a=r.pieceOfNewsCollection)||void 0===a?void 0:a.items.map((e=>{var a=e.category.title;return{id:e.sys.id,category:a}})))&&void 0!==e?e:[]}),[r]);return(0,j.jsx)(j.Fragment,{children:i({items:o,loading:s})})},T=e=>{var a=e.locale,t=e.children,i=(0,c.QT)({locale:a}),l=i.data,r=i.loading,s=(0,n.useMemo)((()=>{var e;return null!==(e=null==l?void 0:l.piecesOfNews.data.map((e=>{var a,t=e.id,i=e.attributes.category;return{id:t,category:null==i||null===(a=i.data)||void 0===a?void 0:a.attributes.title}})))&&void 0!==e?e:[]}),[l]);return(0,j.jsx)(j.Fragment,{children:t({items:s,loading:r})})},F=e=>{var a=e["data-testid"],t=(0,s.$W)().isStrapi,i=(0,s.lO)().node_locale,l=(0,o.Hq)(),r=t?T:_;return(0,j.jsx)(r,{locale:i,country:l,children:e=>{var t=e.items,i=e.loading;return(0,j.jsx)(Z,{data:t,loading:i,"data-testid":a})}})},R=e=>{var a=e.data.container;return(0,j.jsx)(r.Z,{document:a,children:e=>({[e.SECTIONS.NEWSROOM]:F})})},S=e=>{var a=e.data;return(0,j.jsx)(i.e,{client:l.Z,children:(0,j.jsx)(R,{data:a})})}}}]);