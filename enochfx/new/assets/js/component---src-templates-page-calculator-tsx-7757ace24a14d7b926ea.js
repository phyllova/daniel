"use strict";(self.webpackChunk_exness_public_website=self.webpackChunk_exness_public_website||[]).push([[2995],{81432:function(e,t,n){n.d(t,{f:function(){return a}});var a="Indices"},52803:function(e,t,n){n.r(t),n.d(t,{default:function(){return ae}});var a=n(31133),i=n(97995),r=n(67242),l=n(31461),o=n(2784),c=n(98485),s=n(20349),u=n(14623),d=n(87559),m=n(98185),p=n(89916),_=n(65035),v=n(7904),g=n(1332),h=n(21848),y=(n(43430),n(24681)),x=n(61527),T=n(58893),j=(0,c.ZP)("div")((e=>{var t=e.theme;return{marginTop:t.spacing(2),".MuiTableCell-root":Object.assign({borderTop:"1px solid "+(0,u.Fq)(t.palette.background.darkest,.12),borderBottom:"none"},t.typography.body3RegularAdaptive,{padding:t.spacing(1.5)}),"\t.MuiTableCell-alignRight":Object.assign({},t.typography.body3SemiboldAdaptive)}})),b=(0,c.ZP)("div")((e=>{var t=e.theme;return Object.assign({borderTop:"1px solid "+(0,u.Fq)(t.palette.background.darkest,.12)},t.typography.body3RegularAdaptive,{padding:t.spacing(1.5),paddingLeft:0,display:"flex",flexDirection:"row",justifyContent:"space-between"})})),C=(0,c.ZP)("div")((e=>{var t=e.theme;return Object.assign({},t.typography.body3SemiboldAdaptive)})),f=e=>{var t=e.data,n=e.loading,a=(0,g.lO)().i18n,i=[{name:"margin",title:a.t("ui.titles.margin",{_:"Margin"})},{name:"spread",title:a.t("ui.titles.spreadCost",{_:"Spread cost"})},{name:"commission",title:a.t("ui.titles.commission",{_:"Commission"})},{name:"swap_short",title:a.t("ui.titles.swapShort",{_:"Swap short"})},{name:"swap_long",title:a.t("ui.titles.swapLong",{_:"Swap long"})},{name:"pip_value",title:a.t("ui.titles.pipValue",{_:"Pip value"}),formatTemplate:".6f"}];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(m.Z,{variant:"heading4Adaptive",children:a.t("ui.pages.TradingCalculator.calculationResults",{_:"Results"})}),(0,T.jsx)(j,{children:i.map((e=>{var a,i,r=n||!t?(0,T.jsx)(x.Z,{}):(a=Number(t.calculate[e.name]),void 0===(i=e.formatTemplate)&&(i=".2f"),(0===a?0:(0,y.WU)(i)(a))+" "+t.calculate.currency);return(0,T.jsxs)(b,{children:[e.title,(0,T.jsx)(C,{children:r})]},e.name)}))})]})},E=n(67514),S=n(94203),Z=n(2856),O=e=>{var t=e.children,n=e.onChange,a=e.value,i=(0,g.lO)().i18n;return(0,T.jsx)(Z.Z,{fullWidth:!0,select:!0,variant:"outlined",id:"account-currency",label:i.t("ui.titles.accountCurrency",{_:"Account currency"}),name:"currency",value:a,onChange:n,children:t})},R=e=>{var t=e.children,n=e.onChange,a=e.value,i=(0,g.lO)().i18n;return(0,T.jsx)(Z.Z,{fullWidth:!0,select:!0,id:"account-type",label:i.t("ui.titles.accountType",{_:"Account type"}),name:"account_type",value:a,variant:"outlined",onChange:n,children:t})},A=21e8,w=[2e3,1888,1e3,888,800,600,500,400,200,100,88,50,20,10,2,A],N=e=>{var t=e.disabled,n=e.onChange,a=e.value,i=(0,g.lO)(),r=i.i18n,l=i.leverageLimits,o=(null==l?void 0:l.min)||2,c=(null==l?void 0:l.max)||A;return(0,T.jsx)(Z.Z,{fullWidth:!0,select:!0,disabled:t,id:"leverage",label:r.t("ui.titles.leverage",{_:"Leverage"}),name:"leverage",value:a,variant:"outlined",onChange:n,children:w.filter((e=>e>=o&&e<=c)).map((e=>(0,T.jsx)(E.Z,{value:e,children:e===A?r.t("ui.titles.unlimited",{_:"Unlimited"}):"1:"+e},"1:"+e)))})},U=n(62396),L=["onChange"],k=o.forwardRef(((e,t)=>{var n=e.onChange,a=(0,l.Z)(e,L),i=(0,g.lO)().i18n;return(0,T.jsx)(U.Z,Object.assign({ref:t,i18n:i,id:"lot",label:i.t("ui.titles.lot",{_:"Lot"}),name:"lot",precision:6,onChange:e=>{var t=e.name,a=e.value;n({target:{name:t,value:a}})}},a))}));k.displayName="LotField";var P=k;var M=[1,2,5],I=(0,c.ZP)(m.Z)((e=>({marginBottom:e.theme.spacing(2)}))),Y=(0,c.ZP)("div")((e=>({marginBottom:e.theme.spacing(3)}))),B=e=>{var t=e.data,n=e.onChange,a=e.state,i=e.lotRef,r=(0,g.lO)(),l=r.i18n,c=r.accountTypes,s=a.account_type,u=s.account_type,d=s.currencies,m=s.instruments,p=s.leverage_max,_=a.currency,v=a.instrument,h=v.calculation_mode,y=v.instrument,x=v.margin_coef,j=a.lot,b=a.max_lot,C=a.min_lot,f=M.includes(h)&&x>0?1/x:a.leverage,Z=o.useMemo((()=>function(e,t){void 0===e&&(e=[]);var n={mt5_mini_real:t.t("model.AccountType.mt5_mini_real_vc.title",{_:"Standard"}),mt5_raw_real:t.t("model.AccountType.mt5_raw_real_vc.title",{_:"Raw Spread"}),mt5_zero_real:t.t("model.AccountType.mt5_zero_real_vc.title",{_:"Zero"}),mt5_classic_real:t.t("model.AccountType.mt5_classic_real_vc.title",{_:"Pro"}),mt4_cent_real:t.t("model.AccountType.mt4_cent_real_vc.title",{_:"Standard Cent"}),mt4_pim_real:t.t("model.AccountType.mt4_pim_real_vc.title",{_:"Institutional Pro"})};return e.reduce(((e,t)=>{var n=t.split("_");n.pop();var a=n.join("_");return e[t]=e[a],delete e[a],e}),n)}(c,l)),[c,l]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(I,{variant:"heading4Adaptive",children:l.t("ui.titles.calculator.heading",{_:"Your order"})}),(0,T.jsx)(Y,{children:(0,T.jsx)(R,{value:u,onChange:n,children:t.map((e=>{var t=e.account_type;return(0,T.jsx)(E.Z,{value:t,children:Z[t]},t)}))})}),(0,T.jsx)(Y,{children:(0,T.jsx)(O,{value:_,onChange:n,children:d.map((e=>(0,T.jsx)(E.Z,{value:e,children:e},e)))})}),(0,T.jsx)(Y,{children:(0,T.jsx)(S.Z,{disableClearable:!0,name:"instrument",label:l.t("ui.titles.instrument",{_:"Instrument"}),options:m.map((e=>e.instrument)),value:y,TextFieldProps:{InputLabelProps:{shrink:!0},variant:"outlined"},multiple:!1,onChange:n})}),(0,T.jsx)(Y,{children:(0,T.jsx)(P,{ref:i,max:b,min:C,value:j,variant:"outlined",onChange:n})}),(0,T.jsx)(Y,{children:(0,T.jsx)(N,{disabled:M.includes(h),max:p,value:f,onChange:n})})]})},D=function(e){return e.SET_ACCOUNT_TYPE="SET_ACCOUNT_TYPE",e.SET_INSTRUMENT="SET_INSTRUMENT",e.SET_LOT="SET_LOT",e.SET_LEVERAGE="SET_LEVERAGE",e.SET_CURRENCY="SET_CURRENCY",e}({}),F=(e,t)=>{switch(t.type){case D.SET_ACCOUNT_TYPE:var n=V(t.payload),a=W(n.instrument,e.lot),i=a.lot,r=a.min_lot,l=a.max_lot,o=t.payload.currencies.find((t=>t===e.currency));return Object.assign({},n,{currency:null!=o?o:n.currency,lot:i,min_lot:r,max_lot:l});case D.SET_INSTRUMENT:var c=e.account_type.instruments.find((e=>e.instrument===t.payload));if(!c)throw new Error("Something went wrong");var s=W(c,e.lot),u=s.max_lot,d=s.min_lot,m=s.lot;return Object.assign({},e,{instrument:c,max_lot:u,min_lot:d,lot:m});case D.SET_CURRENCY:return Object.assign({},e,{currency:t.payload});case D.SET_LEVERAGE:return Object.assign({},e,{leverage:t.payload});case D.SET_LOT:return Object.assign({},e,{lot:t.payload})}return e},W=function(e,t){void 0===t&&(t=.01);var n=e.max_volume,a=e.min_volume;return{max_lot:n,min_lot:a,lot:Math.max(Math.min(t,n),a)}},V=e=>{var t,n=e.instruments.find((e=>e.instrument.includes("XAUUSD")))||e.instruments[0],a=W(n),i=a.max_lot,r=a.min_lot,l=a.lot;return{account_type:e,instrument:n,currency:(t=e,t.account_type.includes("mt4_cent_real")?"USC":"USD"),leverage:200,lot:l,min_lot:r,max_lot:i}},G=n(68079),q=n(75652),z=n.n(q),Q=n(20103),X=n(81432),H=["max_lot","min_lot"],J=(0,c.ZP)(s.Z)((e=>{var t=e.theme;return{display:"flex",flexDirection:"column",[t.breakpoints.up("md")]:{flexDirection:"row",justifyContent:"center",marginBottom:t.spacing(4)}}})),K=(0,c.ZP)(s.Z)((e=>{var t=e.theme;return{width:"100%",[t.breakpoints.up("md")]:{maxWidth:450,"&:not(:last-of-type)":{borderRight:"1px solid "+(0,u.Fq)(t.palette.background.darkest,.12)},paddingLeft:t.spacing(4),paddingRight:t.spacing(4)}}})),$=(0,c.ZP)(d.Z)((e=>{var t=e.theme;return{margin:"auto",display:"block",minWidth:150,paddingTop:t.spacing(1.5),paddingBottom:t.spacing(1.5)}})),ee=e=>{var t=(0,g.lO)().i18n;return(0,T.jsx)($,Object.assign({color:"secondary",variant:"contained"},e,{children:(0,T.jsx)(m.Z,{variant:"button2Adaptive",children:t.t("ui.controls.CalculateButton.label",{_:"Calculate"})})}))},te=e=>{var t,n,a=e["data-testid"],i=void 0===a?"section:trader-calculator":a,r=((e,t)=>{var n;return(null!==(n=null==e?void 0:e.allExnessAccountTypes)&&void 0!==n?n:[]).sort(((e,n)=>t.indexOf(e.account_type)>t.indexOf(n.account_type)?1:-1))})(e.accountTypes,(0,g.lO)().accountTypes),c=(0,h.bQ)(),s=c[0],u=c[1],d=u.data,m=u.loading,y=(t=r[0],(0,o.useReducer)(F,t,V)),x=y[0],j=y[1],b=x.account_type.account_type,C=x.instrument.instrument,E=(0,o.useRef)(null),S=(n=(0,Q.useStaticQuery)("2883883415").allContentfulExnessTradingAccountType.nodes,(0,o.useMemo)((()=>z()(n.filter((e=>{var t=e.meta;return Boolean(null==t?void 0:t.data)})).reduce(((e,t)=>{var n,a,i=t.meta.data.taxonomies;return[].concat((0,G.Z)(e),(0,G.Z)(null!==(n=null==i||null===(a=i.find((e=>e.name===X.f)))||void 0===a?void 0:a.instruments)&&void 0!==n?n:[]))}),[]))),[n])),Z=()=>{var e,t=x.max_lot,n=x.min_lot,a=(0,l.Z)(x,H),i=Math.max(Math.min(x.lot,t),n);if(j({type:D.SET_LOT,payload:i}),null===(e=E.current)||void 0===e?void 0:e.validate()){var r=S.includes(C);s({variables:{input:Object.assign({},a,{account_type:b,instrument:C,lot:i,is_index:r})}})}};return(0,_.Z)((()=>{Z()})),(0,T.jsxs)(v.Z,{"data-testid":i,children:[(0,T.jsxs)(J,{children:[(0,T.jsx)(K,{"data-testid":i+"-form",children:(0,T.jsx)(B,{lotRef:E,data:r,state:x,onChange:e=>{var t=e.target,n=t.name,a=t.value;switch(n){case"account_type":return j({type:D.SET_ACCOUNT_TYPE,payload:r.find((e=>e.account_type===a))});case"leverage":case"lot":return j({type:"lot"===n?D.SET_LOT:D.SET_LEVERAGE,payload:Number(a)});case"instrument":case"currency":return j({type:"instrument"===n?D.SET_INSTRUMENT:D.SET_CURRENCY,payload:String(a)});default:throw new Error("unkonw type "+n)}}})}),(0,T.jsx)(p.Z,{mdUp:!0,implementation:"css",children:(0,T.jsx)(ee,{fullWidth:!0,sx:{marginBottom:8},onClick:Z})}),(0,T.jsx)(K,{"data-testid":i+"-results",children:(0,T.jsx)(f,{data:d,loading:m})})]}),(0,T.jsx)(p.Z,{mdDown:!0,implementation:"css",children:(0,T.jsx)(ee,{onClick:Z})})]})},ne=e=>{var t=e.data,n=t.container,a=t.accountTypes;return(0,T.jsx)(r.Z,{document:n,children:e=>({[e.SECTIONS.TRADER_CALCULATOR]:()=>(0,T.jsx)(te,{accountTypes:a})})})},ae=e=>{var t=e.data;return(0,T.jsx)(a.e,{client:i.Z,children:(0,T.jsx)(ne,{data:t})})}}}]);